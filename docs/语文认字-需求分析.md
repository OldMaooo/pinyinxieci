# 语文认字应用 - 需求分析与补充

## 一、已明确的需求

### 1.1 导入功能
- ✅ **前期**：人工整理纯文本导入（识字表词语）
- ✅ **后期**：PDF教材导入，大模型解析，根据不同应用抽取结构化数据

### 1.2 题型设置
- ✅ 题目数量
- ✅ 速度（每个词语的展示时间，单位：秒/词）
- ✅ 练习范围（选择哪些词语）
- ✅ **一次展示词语数量**（单个或多个）
  - 单个词语：一次显示一个
  - 多个词语：一次显示多个（数量可设置，如2、3、4、5个）
  - **展示时间计算**：多个词语一页的展示时间 = 一页的词语数量 × 设定的速度

### 1.3 做题流程
- ✅ 随机出现题目范围内的题目
- ✅ 根据设定展示（单个或一组）
- ✅ 每个词组用卡片包起来（类似错题卡片样式）
- ✅ 每个卡片右上角有复选框，可以手动标记错题（叉号）
- ✅ **只有手动标记，不需要系统自动判断**

### 1.4 错题集
- ✅ 按单轮显示和汇总显示
- ✅ 管理模式可以批量删除或更改标记状态

### 1.5 结果页
- ✅ 类似看拼音写词的结果页

---

## 二、补充细节（已确认）

### 2.1 数据格式

- 词语数据需要包含：`id`、`word`、`pinyin`、`unit`（单元、学习园地等）。释义暂不强制，可在后续版本扩展。
- 错题集以及练习过程中需要能显示对应词语的拼音。
- 导入格式与「那个」一致：支持包含单元、学习园地等结构化信息，前期手动整理后导入。
- 导入的纯文本格式参考看拼音写词的现有方案（带单元分组、字段分隔）。

### 2.2 展示方式

- 默认不显示拼音，只有在错题标记后才显示。
- 默认使用横向网格布局展示多个词语（沿用错题卡片的布局方案）。
- 卡片样式直接复用「那个」中的错题卡片样式，无需额外调整。

### 2.3 计时和翻页

- 翻页方式为手动翻页，提供上一组、下一组按钮，交互与「那个」保持一致。
- 展示过程中就允许手动标记错题，标记状态即时生效。

### 2.4 练习流程

- 需要暂停功能（暂停后停止计时，但保留页面状态，可继续操作）。
- 允许提前结束练习，并进入结果页。

### 2.5 结果页

- 结果页沿用「那个」的交互与布局：展示总题目数、错题数、正确率、用时、速度等统计信息。
- 支持在结果页手动修改标记状态，并有“确认修改”按钮（默认禁用，修改后启用）。

### 2.6 错题集

- 功能、展示形式与「那个」一致：支持按轮查看（含全部题目及错题标记）、汇总视图（含排序、错题次数等）、管理模式下批量操作。
- 错题集中的词语需显示拼音，错误卡片顶部展示拼音信息。

### 2.7 其他功能

- 需要提供“从错题本练习”功能，与「那个」保持一致。
- 需要导入/导出功能：导出词语库、练习记录；导入词语库。
- 数据存储、localStorage key 等使用全新的命名空间，建议前缀为 `word_recognition_`，避免与看拼音写词冲突。

---

## 三、额外实现注意事项

1. **项目目录**：该应用需要在与「看拼音写词」并列的独立文件夹中开发，不与现有项目混合。
2. **组件复用**：虽然架构暂不拆分共享库，但可参考现有项目的代码样式、UI 组件、交互逻辑进行实现。
3. **拼音显示逻辑**：
   - 做题页：当标记为错题并点击“提交”后，卡片顶部显示拼音；切换到下一组后，新的词语默认不显示拼音。
   - 错题集：所有被标记为错题的词语顶部显示拼音。
4. **手动翻页**：与现有应用一致，提供 `上一组 / 下一组 / 提前结束` 控件，支持键盘或按钮操作。
5. **暂停逻辑**：暂停时需要停止计时器，但保留当前展示，允许标记和查看。
6. **多词语展示时间**：手动翻页下仍使用“速度”概念计算预设时间，但最终由用户手动切换；可在UI上显示建议时间。

---

## 四、开发前的准备清单

- [x] 明确导入格式与数据结构
- [x] 确认展示方式、翻页方式
- [x] 确认练习流程、结果页、错题集需求
- [x] 确认附加功能（错题练习、导入导出）
- [x] 确认独立目录及命名规范

以上信息已确认，可以开始实施阶段。

