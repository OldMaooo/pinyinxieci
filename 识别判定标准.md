# 识别判定标准说明

## 当前判定标准

### 1. 匹配逻辑

识别结果与期望字的匹配方式（满足任一即可）：

1. **完全匹配**：识别结果 = 期望字
   - 例：识别"恒" → 期望"恒" ✅

2. **第一个字匹配**：识别结果的第一个字 = 期望字
   - 例：识别"恒星" → 期望"恒" ✅
   - 例：识别"永恒" → 期望"恒" ✅

3. **包含匹配**：识别结果包含期望字
   - 例：识别"恒定" → 期望"恒" ✅

### 2. 置信度阈值

- **默认阈值**：0.6（已从0.85降低）
- **实际有效阈值**：0.6
- **最低容忍度**：0.5（如果匹配但置信度在0.5-0.6之间，仍然通过）

### 3. 判定流程

```
识别结果 → 提取第一个字 → 匹配检查 → 置信度检查 → 最终判定
```

**示例：**
- 识别结果："恒星"（置信度0.75）
- 提取第一个字："恒"
- 匹配检查：✅ "恒" === "恒"
- 置信度检查：✅ 0.75 >= 0.6
- **最终判定：✅ 正确**

**示例2（字迹不美观但正确）：**
- 识别结果："恒"（置信度0.55）
- 匹配检查：✅ "恒" === "恒"
- 置信度检查：⚠️ 0.55 < 0.6，但 >= 0.5
- **最终判定：✅ 正确**（特殊处理，防止字迹不美观但正确的字被判错）

### 4. 字迹美观度影响

**不会因为字迹不美观被判错**，只要：
1. 字匹配（完全匹配、第一个字匹配或包含匹配）
2. 置信度 >= 0.5（已降低标准）

**会被判错的情况：**
1. 字不匹配（识别成其他字）
2. 置信度 < 0.5（识别系统本身不确定）

## 优化历史

- **最初版本**：阈值0.85，要求完全匹配
- **优化1**：支持词组匹配，提取第一个字
- **优化2**：降低阈值至0.7，提高容错率
- **当前版本**：阈值0.6，最低容忍度0.5，防止字迹不美观但正确的字被判错

